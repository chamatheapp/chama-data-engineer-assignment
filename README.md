# Junior Data Engineer Assignment
Assignment for junior data engineer position

## Introduction
Chama is a two year old company, modern, that base it's business in a [IOS App](https://itunes.apple.com/BR/app/id1228143385?mt=8) and [Android App](https://play.google.com/store/apps/details?id=br.project.pine). 
This reality makes imperative that we make a special effort in collecting all information available around this App and make it available for everyone in the company.
Some information about App usage is generated by the our own App and our own backend API. Other sources of information, like the Google Play Store, can provide very useful insights on App performance and user rating.
This company is very data-oriented, most decision are made based in appropriated metrics, therefore, data quality is must and a concern of everyone involved.

-----

### Exercice 1: Device Uninstalls
The Chama App reports uses the Firebase SDK to report events. In the firebase event information it's possible to find DeviceId's and InstanceId's. 
 - **DeviceId** is a unique Id that identifies the physical device, the phone or tablet where the application is installed.
 - **InstanceId** is a Id given every time that the device installs the application. Meaning, if the same device installs the App several times, will gain new instanceId's but the deviceId will remain the same.

Most App related events have DeviceId and InstanceId information, but due technical reasons, the uninstall event, only has deviceId information. 

*t1: Uninstall event information*

|DeviceId|EventName|EventDateTime       |
|--------|---------|--------------------|
|DeviceA |uninstall|Dec 4, 2018 10:45:00|
|DeviceB |uninstall|Dec 5, 2018 11:45:00|
|DeviceC |uninstall|Dec 6, 2017 12:45:00|

*t2: Instance information*

|Instance  |DeviceId|InstanceFirstSeenDateTime|
|----------|--------|-------------------------|
|InstanceA1|DeviceA |Nov 1, 2018 13:45:00     |
|InstanceA2|DeviceA |Dec 2, 2018 14:45:00     |
|InstanceA3|DeviceA |Dec 9, 2018 14:45:00     |
|InstanceB1|DeviceB |Nov 1, 2018 15:45:00     |
|InstanceB2|DeviceB |Dec 4, 2018 16:45:00     |
|InstanceCX|DeviceC |Dec 4, 2018 00:00:00     |

For the reasons explained previously, it's important to determine for long the App was installed.

***tf**: Uninstalls final table:*

|Instance  |DeviceId|EventName|InstanceFirstSeenDateTime|EventDateTime       |
|----------|--------|---------|-------------------------|--------------------|
|InstanceA2|DeviceA |uninstall|2018-12-02 14:45:00      |2018-12-04 10:45:00 |
|InstanceB2|DeviceB |uninstall|2018-12-04 16:45:00      |2018-12-05 11:45:00 |

(DeviceC is up to you to include it or not)

#### Exercice 1.1: Theory
The goal here is to create a enriched, clean and integrity checked Uninstalls table (**tf**), in some database so that other people can query this information. **Please answer the following questions in short paragraphs**:
 - Assuming that the raw information is available in CSV files, the size of those files define the shape of your solution. Please explain why and mention the different options that you would contemplate.
 - As you noticed, the date format in the tables is not the best to be parsed into a datetime column, how can you surpass this issue?
 - The DeviceC as uninstall date prior to what we see in [InstanceFirstSeenDateTime].
   - What could be the cause of such situation?
   - Would you include DeviceC in the final Uninstalls table? Why?
 - When you read the words "enriched" and "clean" and "integrity" in the premise of the problem, what was your understanding of them?
 - Should a data engineer be responsible for data integrity, cleanliness and enrichment? Why?


#### Exercice 1.2: Practice

Using a database of your choice, create the table **tf** where your starting point are the files [Instances.csv](Instances.csv) and [UninstallEvents.csv](UninstallEvents.csv).
In your solution, please **assume that the files have more than 1GB each**.

-----

### Exercice 2: External integration
An external provider wants to send us information about popular opinion about Chama company and App. They offer two options to send the information. 
One option is to POST the information, in a URL endpoint that we own, every time that something happens, near real time.
The second option is for us to download information in bulk, CSV format, once a day. 
This information needs to arrive to our data warehouse. Please consider that you might make mistakes in your parsing functionality, you need to be able to re-process past data.
**Please answer the following in short paragraphs**:
 - What option would you choose?
 - What are the advantages of each scenario?

Using [draw.io](https://www.draw.io/) or similar, please design a detailed flow that describes the option that you preferred. Please mention the technologies that you would choose for the different steps.
